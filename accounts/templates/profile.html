{% extends "base.html" %}
{% load bootstrap_tags %}


{% block content %}

    <div class="col-11 inner-content">
        <h1 class="text-center">{{ profile }}'s Profile Page</h1>

        <div class="container-fluid">
            <div class="row">
                <div class="col-10 col-md-4 userprofile-details feature-text">
                
                    <p>First name: {{ profile.userprofile.first_name }}</p>
                    <p>Last name: {{ profile.userprofile.last_name }}</p>
                    <p>Email: {{ profile.email }}</p>
                    <p>Location:{{ profile.userprofile.location }}</p>
                    <p>Gender: {{ profile.userprofile.gender}}</p>
                    <p>Age: {{ profile.userprofile.age}}</p>
                </div>    
                <div class="col-12 col-md-5">
                    {% if profile.userprofile.image %}
                    <img src="{{ profile.userprofile.image.url }}" alt="profile image" width="250px" class="userprofile-details-pic">
                    {% else %}
                    <img src="/media/img/logo.jpg">
                    {% endif %}
                </div>
                <div class="row">
                    <div class="col-10 col-md-4 userprofile-details feature-text">
                    <p>New post: {{ profilepost.profilepost.title }}</p>
                    </div>
                </div>    

            </div>
            <div class="row">

                <div class="col-10 userprofile-details feature-text">

                {% for profilepost in profileposts %}
                <div class="col-12 blog-post">           
                
                    <p><span class="boldtext">Author:</span> <a href="#">{{profilepost.user}}</a></p>
                    <!-- {{post.author.first_name}} {{post.first_name}} -->
                    <h2>{{ profilepost.title }}</h2>
                        <p>{{ profilepost.content }}</p>
                        {% if profilepost.image %}
                    <img class="img-blogpost" src="/media/{{ profilepost.image }}" width="250px">
                    {% endif %}
                            <p><span class="boldtext">Published on:</span> {{ profilepost.published_date }}</p> <br>
                           
            </div>    
        {% endfor %} 


              {% if user.is_authenticated or user.is_superuser %}
              <a href="{% url 'profile_post' %}" class="btn btn-info post-details-btn">New Post</a> 
              <form method="POST" enctype="multipart/form-data">
                        {% csrf_token %} 
                        {{ profile_post_form.as_p }}
                        <button type="submit" name="new_profile_post" value="new_profile_post" class="btn btn-info">Save</button>
                </form> 
                {% else %}
                {% endif %} 

                   <!--  <form method="POST" enctype="multipart/form-data">
                        {% csrf_token %} 
                        {{ profile_post_form.as_p }} -->
                        <!-- <input type="text" name="new">
                        -->
                    </form>
                </div>    
            </div>        
        </div>
    </div>
    s    

{% endblock %}