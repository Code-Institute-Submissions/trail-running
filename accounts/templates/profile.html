{% extends "base.html" %}
{% load bootstrap_tags %}


{% block content %}

    <div class="col-11 inner-content">
        <h1 class="text-center">{{ profile.username }}'s Profile Page</h1>

        <div class="container-fluid">
            <div class="row col-10 offset-1 blog-post">
                <div class="col-10 col-md-3 offset-md-1 userprofile-details feature-text">
                    <p>First name: {{ profile.userprofile.first_name }}</p>
                    <p>Last name: {{ profile.userprofile.last_name }}</p>
                    <p>Email: {{ profile.email }}</p>
                    <p>Location: {{ profile.userprofile.location }}</p>
                    <p>Gender: {{ profile.userprofile.gender}}</p>
                    <p>Age: {{ profile.userprofile.age}}</p>
                    
                    <br><br>

                    {% for contactuserpost in contactuserposts %}
                    <strong>Personal messages: </strong>
                    <p><span class="boldtext">Author:</span> <a href="#">{{contactuserpost.sender}}</a></p>
                    <p><span class="boldtext">Title:</span> {{ contactuserpost.title }}</p>
                    <p><span class="boldtext">Message:</span> {{ contactuserpost.content }}</p>      
                    <p><span class="boldtext">Receiver:</span> {{ contactuserpost.receiver }}</p>                   
                    {% endfor %}
                    <br><br>
                  

                </div>    
                <div class="col-10 col-md-8">
                    {% if profile.userprofile.image %}
                    <img src="{{ profile.userprofile.image.url }}" alt="profile image" width="250px" class="userprofile-details-pic">
                    {% else %}
                        <img src="/media/img/runner-male.png" alt="profile image" width="100px" class="userprofile-details-pic">
                    {% endif %}
                </div>
                
                <div class="col-10 offset-1">
                <hr>
                    <h2 class="about-me">About me</h2>
                    <p>{{ profile.userprofile.about_me|linebreaks}}</p>
                </div> 
                <div class="col-10 offset-1 userprofile-details feature-text">
                    {% if user == profile.userprofile.user or user.is_superuser %}
                    <a href="{% url 'edit_profile' %}" class="btn btn-info post-details-btn">Edit</a>
                    <a href="{% url 'delete_profile_details' %}" class="btn btn-info post-details-btn">Delete</a>    
                    <a href="{% url 'profile_post' %}" class="btn btn-info post-details-btn">New Post</a> 
                {% else %}
                {% endif %} 

                {% if user !=  profile.userprofile.user %}
                <a href="{% url 'contact_user' profile.userprofile.user.id %}" class="btn btn-info post-details-btn">Contact User!</a> 
                {% else %}
                {% endif %}        
                </div>
            </div>    
              
            
                {% for profilepost in profileposts %}
                <div class="col-10 offset-1 blog-post userprofile-details feature-text">           
                    <div class="col-10 offset-1">
                        <p><span class="boldtext">Author:</span> <a href="#">{{profilepost.user}}</a></p>
                        <!-- {{post.author.first_name}} {{post.first_name}} -->
                        <h2>{{ profilepost.title }}</h2>
                            <p>{{ profilepost.content }}</p>
                            {% if profilepost.image %}
                        <img class="img-blogpost" src="/media/{{ profilepost.image }}" width="250px">
                        {% endif %}
                                <p><span class="boldtext">Published on:</span> {{ profilepost.published_date }}</p> <br>
                    {% if user == profilepost.user or user.is_superuser %}            
                    <a href="{% url 'edit_profile_post' profilepost.id %}" class="btn btn-info post-details-btn">Edit</a>  
                    <a href="{% url 'delete_profile_post' profilepost.id %}" class="btn btn-info post-details-btn">Delete</a>
                    {% else %}
                    {% endif %}                                    
                    </div>
                </div>    
        {% endfor %} 
        </div>
    </div>


{% endblock %}