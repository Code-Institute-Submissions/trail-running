[![Build Status](https://travis-ci.org/RikDuijm/trail-running.svg?branch=master)](https://travis-ci.org/RikDuijm/trail-running)

# Trail running - responsive application

This application is developed for a fictitious running store, specializing in products for trail runners. Like many small sports, this is a niche market, in which consumers are willing to pay a lot for products and services that match their interests and perception. The customer is usually intensively engaged in his hobby and very serious about it. He invests hours per week, and in the specific case of the trail runner you can almost say that his hobby is a way of, and attitude to life.

The shopping experience – both online or physical – is therefore extremely important. The customer must be able to identify with the store, love to visit it and feel part of a movement or group. Once the store succeeds in winning over the customer, he/she will keep coming back.
Therefore, having just an online store is not enough. The idea is to create an additional online platform, that engages the customer.

This website aims to achieve the following:
Winning over the customers and maintaining their interest with the ultimate goal of generating income. The customer must identify with this website and return very regularly, so that the chance of selling products is increased. Additional income can also be generated, for example through the sale of advertisements.

- [**View the website here**](https://rik-duijm-trail-running.herokuapp.com/)
- [**View the Github Repository here**](https://github.com/RikDuijm/trail-running/)

![screenshot website](/media/img/screenshot-final-page.jpg)

## Contents Table
1. [**UX**](#ux)
    - [The Audience](#audience)
    - [User Stories](#user-stories)
    - [The application](#application)
    - [Content](#content)
    - [User Experience](#user-experience)
    - [Design Ideas](#design-ideas)
    - [Wireframes](#wireframes)

2. [**Functionality and Features**](#features)
    - [Existing Features](#existing-features)
    - [Features Left to Implement](#features-left-to-implement)

3. [**Technologies Used**](#technologies-used)

4. [**Testing**](#testing)
   - [Manual Testing](#manual-testing)
   - [Automated Testing](#automated-testing)
   - [Note for Code Institute](#note)

5. [**Deployment**](#deployment)

6. [**Credits**](#credits)
    - [**Content**](#content)
    - [**Help with code**](#help-with-code)
    - [**Acknowledgements**](#acknowledgements)

7. [**Disclaimer**](#disclaimer)

## <a name="ux"></a>UX

### <a name="audience"></a>The Audience

**Who is the target audience?**

***The trail runner***\
Diverse in age and geographical locations and of both genders, there are still important common characteristics in the target audience. 

Obviously the audience share a common hobby and they are all quite passionate about it.

Although it’s not an elite sport, trail runners tend to be higher educated, earning above average. The trail runner is usually intensively engaged in his hobby and very serious about it. For many of the trail runners the equipment is very important. Normally they spend quite some money on shoes, gear, clothes, food and supplements. 
They like nature, are mostly socially engaged and conscious living. And they are above average adventurous. Generally they like to travel and explore new destinies / activities.

***What's cultural appropriate for the audience?***\
The site must emanate that the customer and his needs are understood. Product offers, events, stories and information should all 	seamlessly connect to the customer. The customer must feel that the website is on ‘on the same page’, offering information, inspiration and products even before he / she can wonder if this would be available. 

### <a name="user-stories"></a>User Stories
**As the website owner, I would like to distinguish myself from my competition with an application that offers:**
- a range of high quality products that seamlessly fits the needs of the customer, with ‘cool’ marks and gadgets, against very competitive prices. This should include an online cart and payment possibility.
- sublime information, so that the user will have another reason to visit the website and will return there over and over again. These are all sales opportunities!
- inspiring stories and other content (photos, videos) that fulfil the need of the customers to read about / live their hobby. This ensures that the customers feel connected to the website, making it plausible that they will visit the website many times.
- an event calendar, firstly to inform and serve the customer, secondly to facilitate a platform / technical assistance for event organizers. With this calendar a discount can be offered to the customer or a commission could be charged to the organizer. At the same time, a valuable relation with the race organizers is created.
- an online community where users can post blogs and contact each other. This creates a very valuable community feeling, the sense that the user “belongs” to something and connects to the website. Again it makes it very plausible that the user will return many times to the website and let his eye fall on newly promoted products.
 
 
**As a user I’d like to:** 
- search for / purchase high quality products at a favourable price.
- learn about / enrol in cool events.
- read about my hobby.
- find destinations, routes, and advice about health and injuries, diet and training.
- connect with likeminded people, maybe find training mates or exchange stories and tips and tricks.
 

**As an guest editor I’d like to have:** 
- a platform to show off my expertise, to reach and persuade potential clients. 
 

**As an event organizer I’d like to have:** 
- a platform to promote my event. 
- the technological ability to facilitate online enrolments and payments
 

**As an advertiser I’d like to have:** 
- the possibility to advertise to a clearly defined audience that is hugely interested in my specific products / services.
 

### <a name="application"></a>The application
**What are we making?**\
Given the enormous amount of web shops, we feel that our regular web shop isn’t competitive enough anymore. To be able to distinguish from competitors we want to create an environment that the user likes to visit and return to over and over again. 

Secondly we also feel that there are always more ways to generate revenue, and we should consider accepting advertisements, and offering collaboration with other companies and organisations that share our audience, as long as they are no direct competitors. 

This is achieved by: 

**1. An online store with weekly offers**\
A selection of products from the separate, larger online store is offered here. The idea is to promote new products every week at a significant discount. Only registered users can purchase these products. 

The objective is threefold:
1. Generate sales
1. Generate traffic to the larger store. 
1. Ensure that users regularly check the website. That should increase the amount of visits to the community and the attention for the editorial part and the events calendar on the website - while these other sections in turn should increase the attention to the online store.


**2. Online community**\
The website offers an online community. Trail runners can post their blogs and contact other users. 

***Blog***\
Analysing social media, it becomes pretty clear that many trail runners like to write about their “epic adventures” and that many others like to read their articles. The obvious question is how many would publish on this website, but you could stimulate this by developing a discount system for runners that publish their stories here (still to be developed). 

***Profile***\
Trail runners can also create their own profile. This is needed to receive special discounts on products and events and to engage with other users. On their profile they can publish extra texts and pictures and read messages that other users sent them. 
On the protected part of the website - only accessible after registration / login - the user can find all other profiles. And the user can also send messages to other users. 

**3. An editorial section for reference and inspiration**\
The content of this section will be written by employees of the store and by specialists in one of the subjects. There are four sections where the user can find professionally written advice, tips or articles: Excercise & Injuries, Routes & Destinations, Health & Food, Stories.\
For other entrepreneurs (for example physiotherapists, dieticians, psychologists, but also tour operators and national tourist offices) it’s interesting to publish here, because it’s free publicity to their target audience.\
Also, advertising space can be sold as an additional income.

**4: An event calendar**\
Many trail runs are small-scale initiatives, created by passionate trail runners. However, they are not always able to properly promote such an event, or arrange an online registration: they often lack this specific knowledge. By facilitating an event calendar, you form a bond with these types of organizations - with every thinkable advantage - and you provide interesting content for your target group. The user will receive a small discount upon registration through the website. However, you could also consider charging a small commission from the organizer (like booking.com) to generate extra income.

**Important note:**\
This website co-exists with our normal webshop and offers only a selection of products, at high discounts. On it, we mention that our store is behind this new website, but we don’t emphasize this. Further customer research must show whether it is desirable to integrate our normal webshop into this website or to maintain 2 separate websites. This website relies heavily on the positive feeling the user receives from it. It may be that a fully integrated webshop detracts from this feeling.

**Why does the user want this?**\
The user is interested in purchasing products for a favourable price, but given the intensity of which most trail runners “live” their hobby many will be interested in reading about it, finding trustworthy information, being able to connect with other runners and finding nice, small and unknown races in which to participate. Although the sport is getting bigger, most trail runners don’t like big events; they don’t like the mass and  mainstream and most aren’t members of a sport club. They practice their sport individually. That makes it more difficult to get engaged in the sport, finding a running mate, information – basically how to do everything. A website that offers all is very helpful. And even if a customer doesn’t make use of the community for example, he or she might still be interested in other aspects of the website. Apart from that, even if someone doesn’t make use of any of the offered extras, those can still be appreciated, making the user choose to purchase a product on this website anyway.

### <a name="content"></a>Content
**What content type would be relevant?**\
Products and people, information and inspiration: these are basically the four pillars the website stands on. They are introduced already above.

Every suggestion must be excellent, whether it’s the product choice, the presented events or the offered information. The user must be surprised every time he / she visits a page. Quantity is not the most important aspect, it’s the quality of the products or information that is offered and the positive feelings a story or picture evokes. 

### <a name="user-experience"></a>User Experience

**What makes a good user experience?**
- The website must be easy to navigate intuitively. The structure must be clear, the user should be able to find everything within a few moments, without having to wonder how to get there. This gives the user the idea that the website owner knows what he’s doing.
- The user should get inspired and be surprised when using the website because of the quality of content presented and the way it’s presented in. The website, products and information must be original and of high quality, and should be beautifully presented. 

### <a name="design-ideas"></a>Design Ideas
The website must be accessible. The user must be able to navigate quickly and intuitively and must easily find all relevant information. 

Based on those ideas, I made the following choices:

- **Font**\
I chose the Font 'Roboto', sans-serif because this is a soothing, modern letter. This contributes to the clarity of the page.

- **Colours**\
I chose soft colours, green azure and black, representing nature. It combines well with many outdoor pictures. The plain white background also contributes to the clarity.

- **Images**\
This website is about the hobby of the customer. Therefore, the selection of photos is hugely important. The customer has to get a positive feeling and should get activated and inspirated on the website. Photos should show nature and landscape on it's best.

- **Presenting the content**\
	-   The website offers a lot of different content. Therefore it should be very easy to navigate: 
	-   I chose to present the different sections of the website very clearly on the homepage. 
	-   In the section Inspiration the subsections are presented likewise. 
	-   In the section Discounts the categories (clothes, shoes, events, accessories) are not ordered right now (this would mean I would have to create a lot of content, which is not the purpose of the project), but it would be logical to do the same.
	-   The events calendar only shows a search functionality to not overwhelm the senses with a long lists of events. The page that present all the user profiles is very similar. 

### <a name="wireframes"></a>Wireframes
This is a mobile first app, but many customers will also use tablet or desktop. The whole design and the choices I made are based on that assumption. I made four mobile wireframes. As I made these, it became clear that the design of the different pages was always based on the same characteristics. Therefore, to make the most of my time, I decided not to make more wireframes.

The difference between mobile, tablet and desktop design is basically a difference in the grid. That's why I didn't find it necessary to design wireframes for tablet and desktop.

1. [homepage](/media/wireframes/home.jpg)
2. [store](/media/wireframes/discounts.jpg)
3. [events](/media/wireframes/events.jpg)
4. [user profile](/media/wireframes/profile.jpg)

I created exactly what I had in mind, but you see that there are a few differences in the design and the final result, most notably that I used more colour and less white. Because of the soft green colour that I used, for me personally that isn't overwhelming. 

Although it's not visible in the design,  I was playing with the idea to integrate maps to show the routes of the race events. I planned on using the Google maps API. Because of time issues, in the end I decided not to do this. 

## <a name="features"></a>Functionality and Features

### <a name="existing-features"></a>Existing features

- **Navigation bar**\
The navigation bar contains links to all the important pages. What it shows depends on whether the user is logged in or not.\
If not logged in it shows: Home, Events, Discounts, Inspiration, Forum, Register, Login, Contact.\
If logged in the navigation bar shows: Home, Events, Discounts, Inspiration, Forum, Community (dropdown with User Profiles, Forum, and Add Post), My Profile, Logout and Contact.\
The navigation bar always shows the logo (clickable and linking to Home) and a shopping cart.\
Below, I will introduce these pages and their functionalities.

- **Footer**\
Contains links to (not yet existing) social media pages: Twitter, Facebook, Instagram and YouTube.

- **Homepage**\
Introduces the four main sections of the website: Events, Discounts, Inspiration and Community.  

- **Events**\
Exists of a search functionality. The user can find races by searching directly on the name of the race, but also by filtering month, distance, or region. There’s also a reset button.\
After a query the races appear, ordered by date, showing the date, name, distance and place name. When clicked on a race, more information appears, and there’s a button with the possibility to register, bringing the user to the discount section where he can purchase his ticket for the race.\
If no results are found / or a query isn’t be made yet, a message “Please search (again)” appears.

`Note:` for now I’ve only published a few races / months / distances and regions – just to show the idea of the functionality. 

- **Discounts**\
Shows products a user can purchase / events a user can enrol into. Per item it shows the name, a picture, the normal price, the discount price, the date until the offer is valid, a box to select the quantity of items to purchase, the possibility to select the size (if applicable), and a button to add the product to the shopping cart. More info is hidden but can be read by clicking the ‘read more’ button.\
The user can only add products to the cart if he’s logged in. He will see a message that the product is added to his cart. In the navigation bar he will also see the number of items in the cart appear, in a distinguished orange colour.\
If the user forgets to select the amount of products he wants to purchase he gets a message to do so. 

`Note:`
For now, I didn’t categorise the products (for example in categories like watches, clothes, shoes, events). Reason is that this is an educational project and creating0 a number of products per category would be a lot of work that isn’t important for the learning outcome. Depending on the number of products it could be better to categorise them, especially to separate the race events from the products.

- **Cart (only if logged-in)**\
On the top of the page, the total price of the products in the cart is given, with buttons to return to the store (Discounts) or to the Checkout. Below, the products in the Cart are specified with the following info: name, size, price, the date until the price is valid, an image of the product, the amount of this specific product that is being purchased and additional information. It’s again possible to adjust the amount of products, or to remove the product from the Cart.
 
- **Checkout (only if logged-in)**\
On the top of the page, the total price of the products is given, along with a button that sends the user back to the Cart.\
Below, the products that are being purchased are shown, again including the name, size, price, date until the price is valid, an image, the amount of that product that is ordered, and the price per product.\
Below the products there is the payment form. After submitting the payment, the user gets a message that he successfully (or not) purchased the products, and he is redirected to the products page. 

- **Inspiration**\
Introduces four different sections: Exercice & Injuries, Routes & Destinations, Health & Food, Stories. For now I only worked-out Routes & Destination. Reason is that this is an educational project and writing a certain number of articles per section would be a lot of work that isn’t important for the learning outcome.\
Every section introduces the articles that are written and the user can read the complete article by clicking the ‘read more’ button. Every article shows the writer, the number of times the article is read (nice statistic for the advertisers) and a button to get the user back to the section. I’ve only written a part of 2 articles, for the same reason as mentioned above, including a fictional advertisement. 

- **Forum**\
Shows the posts of bloggers, ordered by date. Every post shows the name of the author, a thumbnail of his profile picture, the number of views, the date/time the post was created and the first few lines of the post, with a read more button. Only if the user is logged-in the name of the author is clickable, linking to his/her profile page.\
After clicking the ‘read more’ button, the complete post shows, including the same information as mentioned above and, optionally, a picture that is uploaded by the author. There is also a ‘back to forum’ button.\
The author of a specific post, and the admin will see additional buttons to edit or delete the post.

- **Add Post (only if logged-in)**\
Shows a form. If filled-out and submitted a new post is created and the user is redirected to the forum, showing his newly created post on top. 

- **Edit Post (only if logged-in and author of that specific post or admin)**\
Shows the same form as Add Post, now filled-out with the earlier posted content. User can edit this and submit in the same way as with Add Post. 

- **Delete Post (only if logged-in and author of that specific post or Admin)**\
Shows a small message, asking if the user is certain to delete the post. If confirmed, post is deleted and user is returned to Forum, if cancelled user is returned to the post.
(Your post is deleted)

- **User Profiles (only if logged-in)**\
Shows a list of all user profiles, with a thumbnail of the profile picture, user-name, first and last name, age and residence.\
There’s also a ‘contact user’ button. This will lead to a form that a user can fill out. The message (including an optional picture) will be send to the profile page of the user that is contacted, obviously only readable by that user.\
On top of the page there’s a search functionality, much like that on the Events page. You can find a profile, searching on first name, last name or location. There’s also a reset button.\
If no results are found  a message “No profiles found” appears.

- **My Profile (only if logged-in)**\
Shows the basic dates the user filled out upon registering (first and last name, location, email, gender, age and an optional profile picture (if a user chooses not to upload a picture an icon of a runner is shown here).\
Below the personal introduction that the user submitted is shown. There are buttons to edit all this information or to delete the complete profile. There is also a button to create a new post,so that a user can for example create different entrances on his profile page (date of the entrance is published, creating a small diary if you will, ordered by date). Again, these additional posts can be deleted.\
There is also a section with Personal Messages: messages the user received from other users. The user is able to delete these messages.

- **Register (only if not logged-in)**\
When a user is not logged in, the navigation bar shows a link to the registration page. On top of the form there is a link to the sign in page, for when the user already has an account. 
The form contains: Username, Email address, Password, Password Confirmation, First name, Last name, Repeat email, Gender, Age the possibility to upload a picture and a field to write a short introduction.\
Only the gender, picture upload and the personal introduction are not required.\
If the form is filled in, the user is logged in and taken to his profile, showing the message “You have successfully registered and are logged in”.\
When a required field is not filled-in, a user name already exists or the password confirmation is incorrect the user receives warnings. 	

- **Login (only if not logged-in)**\
Allows the user with an account to login. User can also request a new password, or can go the registration page when he is a new. 

- **Reset Password**\
If the user has forgotten his password he can request an email and after clicking on the link in the email change his password.

- **Logout (only if logged-in)**\
Allows the user to log out.


### <a name="features-left-to-implement"></a>Features left to Implement

- **Events:**
	-   Maps showing the route of the race. This could be done with the Google Maps API.
	-   A nice photographic presentation of the races, possibly with thumbnails / slider. This should be the same functionality as the presentation of the products (see below).

- **Discounts:**
	-   Categorising the products (for example in categories like watches, clothes, shoes, events).
	-   Possibly a search functionality to search for a specific product. This would depend on how big the store will eventually get (the main idea is to present a small amount of products from the larger store that have a nice discount for only one week), so it might not be necessary to have a search functionality because there is only a limited amount of products.
	-   The ability to select and purchase the products in other colours.
	-   Clickable thumbnails to show the product from various angels / viewpoints.
	-   Pagination if there are many products for sale. 

- **Inspiration**
	-   Now, all articles of a certain category (for example Exercise & Injuries, Routes & Destinations) are introduced on the same page. As the number of articles grow, they should be further categorised and the user should be able to select rapidly the topic of interest. The category Exercise & Injuries could be ordered by body parts for example and Routes & Destinations by region and/or distance of the route, so that the user can find easily the information he wants.

- **Community:**
	-   As the number of posts grow, they should be organised by topic and the user should be able to search by topic. Logically this would be the same technology as on the Inspiration page. 
	-   A chat room for members could be implemented later.

- **Public profile / Events**
	-   It would be nice to see which users will participate in which events and later on publish the results of the users. This can be both done in the calendar, and on the public profile of the user. Obviously the user should agree, because of privacy regulations.


## <a name="ux"></a>Technologies Used
- HTML, CSS, JavaScript, JQuery, Python
- [IDE: Gitpod](https://gitpod.io/).
- [Bootstrap](https://getbootstrap.com/) for the grid system of the page and for styling the forms.
- [Google Fonts](https://fonts.google.com/) for the fonts.
- [Font Awesome](https://fontawesome.com/) for the icons in the footer of the website.
- [Django 1.11.29](https://www.djangoproject.com/) for rapid development and use of database.
- [Github](https://github.com/) for version control and for users to view the deployed version of the website.
- [Heroku](https://dashboard.heroku.com/) to deploy the project.
- [PostgreSQL](https://www.postgresql.org/) for the database, provided by heroku.
- [Stripe](https://stripe.com/) as payment platform to validate and accept credit card payments securely.
- [Travis](https://travis-ci.org/) for continuous integration.
- [AWS S3](https://aws.amazon.com/s3/) to store the static-files and the images.
- [Looka Logo Maker](https://looka.com/) for the logo.
- PIP3 for installation of tools needed in this project.
- Paint and Krita to edit the images used
- Google Chrome developer tools.

## <a name="testing"></a>Testing
### <a name="manual-testing"></a>Manual testing<br>
#### Responsive testing
I tested the responsiveness of the page locally continuously during the developing progress. I again tested everything remotely after the final deployment on Heroku. Tested devices: Galaxy S5, iPhone 5/SE, iPhone6/7/8, iPhone6/7/8 Plus, iPad, iPad Pro, and responsive desktop. 
I used Chrome developer tools.

Please have a look at this document to see the issues I've encountered. All have been solved. 

#### Testing different browsers
The page is tested in different browsers: Google Chrome, Microsoft Edge, Internet Explorer 11, Firefox and Ecosia. Only in Internet Explorer I found some problems with the buttons I used. This has been solved. I tested locally and also after deployment on Heroku.

Please have a look at this document to see the issues I've encountered. All have been solved. 

#### Testing the functionality ####
**Manual testing**
I tested the functionalities by going through the steps a user would take on the different areas of the website and had other persons do the same. This is a reliable way of discovering whether everything works as it should. In all cases the results matched what I expected. 

In this document you see the test results. Numbers correspond with the numbers of the functionalities below.

**1. Navigation bar**
1. If the user is not logged in / has logged out, the navigation bar should show the following links and those links should direct the user to the respective pages: Home, Events, Discounts, Inspiration, Forum, Register, Login, Contact.\
The logo should direct to the homepage and the shopping cart to the Login page. 


1. If logged in the navigation bar should show the following links and those links should direct the user to the respective pages: Home, Events, Discounts, Inspiration, Forum, Community (dropdown with User Profiles, Forum, and Add Post), My Profile, Contact, Cart.\
Logout should log the user out and the logo should direct to the homepage.

**2. Homepage**
1. When clicking the four main sections of the website (Events, Discounts, Inspiration and Community) user should be directed to those sections.  

**3. Events**
1. When using the search functionality the user should find races by searching directly on the name of the race, but also by filtering month, distance, or region.\
If the user hits the reset button, he should be redirected to the empty page.

1. After a query the races should appear, ordered by date, showing the date, name, distance and place name. When clicked on a race, more information should appears. When the user hits the register button, he should be directed to the discount section where he can purchase his ticket for the race. 

1. If the query doesn’t match any results a message should tell the user so. 

**4. Discounts**
1. Should shows all the products a user can purchase / the events a user can enrol into. Per item it should show the name, a picture, the normal price, the discount price, the date until the offer is valid, a box to select the quantity of items to purchase, the possibility to select the size (if applicable), and a button to add the product to the shopping cart. More info is hidden but should appear by clicking the ‘read more’ button.

1. If a user that is not logged in tries to add a product to the shopping cart he should be taken to the login-page. 

1. If the user is logged in he should see the a message that the product is added to his cart.\
In the navigation bar he should also see the number of items in the cart appear, in a distinguished orange colour. 

1. If the user forgets to select the amount of products he wants to purchase he should get a message to do so. 

**5. Cart (only if logged-in)**
1. If the user is not logged-in and clicks the cart in the navigation bar he should be directed to the login-page. 

1. On the top of the page, the total price of the products in the cart should be given.

1. If the user hits the buttons ‘Checkout’ and ‘Back to Store’ he should be directed to the respective pages.

1. Below, the products in the Cart should be specified with the following info: name, size, price, the date until the price is valid, an image of the product, the amount of the products that are being purchased, and additional information. 

1. If the user hits the ‘Read more’ button he should receive additional information about the product.

1. If the user adjusts the amount of a certain product, both the total price above as the mentioned amount of products should change. Also the amount of products in the cart in the navigation bar should change.  

1. If the user hits the ‘Adjust’ button without mentioning a number of products, he should see the message that he has to specify the number of products. The total price and amount of products shown, should remain the same. 

1. If the user clicks the ‘Remove from cart’ button the product should be removed from the cart, showing the remaining product (if any), the total price of those remaining products and the amount of items still in the cart in the navigation bar. 

1. If the user is logged-out his Cart should empty.

**6. Checkout (only if logged-in)**
1. If the user is not logged-in but happens to know the URL of the checkout page, he should be redirected to the log in page.

1. On the top of the page, the total price of the products that are being paid for should be given.

1. If the user hits the button ‘Back to Store’ he should be directed to that page.

1. Below this, the products that are being bought should be specified with the following info: name, size, price, the date until the price is valid, an image of the product, the amount of products that are being purchased, and the price per item. 

1. Below this, the Checkout form should have the following required views: ‘Full name’, ‘Phone number’, ‘Street address’,  ‘Home town’, ‘Country’, 

1. The following field are not required: ‘Gender’, ‘Age’, ‘Postal code’. ‘Gender’ and ‘Age’ have the following label: ‘Only fill out if you participate in a race’.

1. There are also the following required fields: ‘Credit card number’, ‘Security code (CVV)’, ‘Month’, ‘Year’. If not filled out correctly, or if the Credit card is not valid anymore, the user is not able to submit his payment.

1. If the user submits the payment successfully, he’s redirected to the store (Discount page) and sees the following message: ‘Thanks for your preference. You have successfully paid. We'll send you a confirmation of your purchase within one working day’.

1. The order, and all personal details of the customer should be visible in the Admin Panel. 

1. The payment should be visible in Stripe. 

**7. Inspiration**
1. When clicking the four different sections of the website (Excercise & Injuries, Routes & Destinations, Health & Food, Stories) user should be directed to those sections. Note: for now, all links lead to Routes & Destinations. 

**8. Routes & Destinations**
1. All articles in this section should appear, ordered by date. Every article has a introduction, a picture, and a ‘Read more’ button. When clicked, the article opens. On top of every article the author, the amount of times the article is viewed and a button ‘More stories’ appears. When clicked, the user returns to the ‘Routes & Destinations’ section. 

**9. Forum**
1. All posts of bloggers, ordered by date should appear. 
1. Every post should show the name of the author, a thumbnail of his profile picture, the number of views, the date/time the post was created and the first few lines of the post, with a read more button. 

1. Only if the user is logged-in the name of the author should be clickable, linking to his/her profile page. 

1. After clicking the ‘Read more’ button, the complete post should show, including the same information as mentioned above and, optionally, a picture that is uploaded by the author. There should also be a ‘back to forum’ button, which should lead the user back to the forum.

1. The author of a specific post, and the admin should also see additional buttons to edit or delete the post.

1. If the edit button is clicked by a user or admin, a form that shows the current content should open. The user or admin can edit the content, delete a picture if this was included in the original post, or include a picture now. When the ‘Save’ button is clicked, the user / admin should be directed to the now edited post again.

1. If the delete button is clicked by a user or admin, a message should open if the user / admin is sure to delete the post. If the ‘Cancel’ button is clicked, the user / admin should be directed to the post again. If the ‘Yes’ button is clicked, the post is deleted, directing the user / admin back to the Forum, where they see the message: ‘Your post has been successfully deleted.’.

**10. Add Post (only if logged-in)**
1. If this link in the navigation bar is clicked, the user should be directed to a form that he can use to send in a post. This form exists of the following fields: ‘Title’, ‘Content’, ‘File/Image upload’, ‘Tag’ and ‘Published date’ (automatically filled out). Only the first 2 fields are required and the user should receive a message to fill those out, if he doesn’t do so. Upon hitting the ‘Safe’ button, the user is redirected to the Forum, the newly made post showing first.

**11. User Profiles (only if logged-in)**
1. If this link in the navigation bar is clicked, the user should be directed to a page that shows a list of all user profiles, with a thumbnail of the profile picture, user-name, first and last name, age and location. There’s also a ‘Contact user’ button. 

1. The username should be clickable and linking to the profile-page of that user. 

1. The ‘Contact user’-button should lead to a form that a user can fill out. This form exists of the following fields:  ‘Recipient’ (already filled-out), ‘Title’, ‘Message’, ‘Date (already filled-out)’ and ‘Image’. Only the image is optional, all other fields are required.

1. If the ‘Send message’ button is clicked the message is send and the user is redirected again to the User Profiles page, receiving a notice that the message has been sent.

1. When using the search functionality the user should find profiles of other users by searching directly on first name, last name and location. 

1. After a query the filtered profiles should appear, showing the same details as mentioned above.

1. If the query doesn’t match any results a message should tell the user so. 

1. If the user hits the reset button, he should be redirected to the start page.

**12. User Profile (only if logged-in / profiles of other users)**
1. The profiles of other users are reachable only if a user is logged-in. If he happens to know the URL, he should be redirected to the log in page.

1. On the profile the user should read all the personal details of that other user, except for his/her email address. 

1. He should also be able to read the additional profile posts of that user (in order last posted first), but not the personal messages that other user received. 

**13. My Profile (only if logged-in)**
1. The user’s own profile page should only be reachable if a user is logged-in. If he happens to know the URL, he should be redirected to the log in page.

1. On his / her own profile page the user should see all his / her personal details, this time including the email address. 

1. The user should see the following buttons: ‘Edit details’, ‘Delete profile’, ‘New post’.

1. ‘Edit details’: should lead to a form with all the fields that are also in the register form, except for the password: ‘First name’, ‘Last name’, ‘Email’, ‘Gender’, ‘Age’, ‘Location’, ‘Image’ and ‘Introduction’. Only ‘Image’ And ‘Introduction’ are not required. The fields are filled-out with the information that has been entered by the user before, and he can simply edit it. After clicking the ‘Save’ button, the user is redirected to his profile, receiving the message 'Your profile has been updated!'.

1. The page with the form to edit the profile should only be reachable if a user is logged-in. If he happens to know the URL, he should be redirected to the log in page.

1. ‘Delete profile’: Should lead to a page where the user is asked if he really wants to delete the profile. 

1. If the user clicks the ‘Cancel’ button, he should be redirected to his profile page.

1. If the user clicks the ‘Yes’ button, his profile is deleted, and he is redirected to the homepage, receiving the message: ‘Your profile has been deleted. Please contact us if you want to undo this.’

1. The page with the form to delete the profile should only be reachable if a user is logged-in. If he happens to know the URL, he should be redirected to the log in page.

1. ‘New Post’: Should lead to a page where the user can add a new post. The form on this page should have the following fields: ‘Title’, ‘Content’, ‘Published date’ (already filled out), ‘Image’. Only the image should be optional. 

1. If the user clicks the ‘Save’ button he should be redirected to his profile page, and the new post should appear below the personal messages section, above older posts he placed. User also sees a message: ‘Your post has been published!’

1. The page with the form to add a new profile post should only be reachable if a user is logged-in. If he happens to know the URL, he should be redirected to the log in page.

1. New posts will also have a ‘Edit’ and a ‘Delete’ button. The ‘Edit’ button should lead to a form with all the fields that are also in the new post form. The fields are filled-out with the information that has been entered by the user before, and he can simply edit it. After clicking the ‘Save’ button, the user is redirected to his profile, receiving the message 'Your post has been updated!'.

1. The ‘Delete’-button should lead to a page where the user is asked if he really wants to delete the post. 

1. If the user clicks the ‘Cancel’ button, he should be redirected to his profile page.

1. If the user clicks the ‘Yes’ button, the post is deleted, and he is redirected to the profile page, receiving the message: ‘This information has been successfully deleted.’

1. The page with the form to delete the post and the page to update it should both only be reachable if a user is logged-in. If he happens to know the URL, he should be redirected to the log in page.

1. Personal messages:
Below the ‘About me’ section the user should his / her personal messages; messages sent by other users. Only the logged-in user should be able to see those message; others should not be able to see those.

1. The messages should be ordered by date / time: last received, first.

1. Every message should have a delete button. If clicked, it should lead to a page where the user is asked if he really wants to delete the message. 

1. The page with the form to delete the message should only be reachable if a user is logged-in. If he happens to know the URL, he should be redirected to the log in page.

1. If the user clicks the ‘Cancel’ button, the user should be redirected to the profile page.

1. If the user clicks the ‘Yes’ button, his profile is deleted, and the user should be redirected to the homepage, receiving the message: ‘This message has been successfully deleted.’

**14. Register (only if not logged-in)**
1. The link on the navigation bar should lead to a page with the registration form. 

1. If someone is already logged-in, but happens to get on this page, he / she should be redirected to the homepage.

1. The form contains: Username, Email address, Password, Password Confirmation, First name, Last name, Repeat email, Gender, Age the possibility to upload a picture and a field to write a short introduction.\
Only the gender, picture upload and the personal introduction are not required.

1. If the new user chooses a username that already exists, there should be a message: ‘A user with that username already exists.’

1. If the passwords don’t match, there should be a message: ‘Passwords must match’.

1. If the email already exists in the database, there should be a message: ‘Email address must be unique’. 

1. If the user entered all the required details correctly, the user should be redirected to his profile page, and receives the message ‘You have successfully registered and are logged in.’

1. If the user didn’t upload a picture, his profile picture should be an avatar of a runner instead. 

**15. Login (only if not logged-in)**
1. This link should lead to a page where the user can log in. 

1. On this page there are 2 links ‘register here’ and ‘Forgot your password?’, that should lead to the Registration page and the Reset password page.

1. User can fill-out his / her username and password. If user fills either username or password out wrongly a message ‘Your username or password is incorrect’.

1. If user fills out the details correctly, he / she is redirected to the homepage, seeing a message ‘Welcome (username)!’

**16. Logout (only if logged-in)**
1. The user should be logged-out, be redirected to the home page and receive the message: ‘You have successfully been logged out’.

**17. Reset Password (only if not logged-in)**
1. If the user has forgotten his password he can request an email with a link to reset his password. He should receive this email within a few moments. He’s redirected to a page, telling him this. 

1. After clicking on the link in the email the user should be redirected to a page where he can choose a new password by entering it twice. 

1. If the two password fields don’t match, user should receive the message ‘The two password fields didn't match’, and he can try again.

1. If the passwords do match, after clicking the ‘Change my password’ button, the user should be taken to a page with the following message: ‘Password set! Your new password has been set. You may go ahead and log in now’. The link on this page should redirect the user to the login page.

1. The user should not be able to log in with his old password anymore. 

1. The user should be able to log in with his new password.

1. The user should not be able to use the password reset link for a second time. He should receive the following message: ‘The password reset link was invalid, possibly because it has already been used. Please request a new password reset’.

### <a name="automated-testing"></a>Automated Testing
#### Validation services
The following validation services were used to check the validity of my code.

-   W3C Markup Validation Service was used to validate HTML.
-   W3C CSS validation was used to validate CSS.
-   JSHint was used to validate JavaScript.

#### <a name="note"></a>Note for Code Institute
As mentioned in other projects I feel that we didn’t receive enough instructions or practice to be able to write testing code. As said before I feel that in the Milestone Projects there's an emphasis on the importance of testing, that isn't reflected in the course and based on just very basic lessons I can't create automated testing for this project. Given the above and since I've tested all functionalities extensively manually and am sure everything works as I planned for, I didn't do further automated testing.

## <a name="deployment"></a>Deployment
**View deployed version on [Heroku](https://rik-duijm-trail-running.herokuapp.com/)**

- **Pushing to Github**\
The project was coded in Gitpod, and then uploaded to Github for version control. Before uploading to Github, I made sure to put all my keys and passwords into an env.py file, creating a .gitignore-file and include env.py into it, to prevent that the passwords would be uploaded to Github. I also included sqlite3 in the .gitignore, so that the local database wouldn’t be uploaded. Finally, I also excluded the Python bytecode files and the pycache directory.

- **Installing Travis**\
Once pushed to Github, I synchronised the repository with Travis, copying the markdown code Travis provided me in README.md. Then I created a .travis.yml file. This file specifies the programming language used, and refers to the already created requirements.txt file. Afterwards, I committed and pushed again to Github.

- **Deploying to Heroku**\
    -   Before deploying the project to Heroku, I added all the config vars that are in the env.py under ‘Settings’ on the Heroku Dashboard.
    -   Under ‘Deploy’ the "GitHub" pane selected. Then the option to auto-deploy the project whenever it’s pushed to on Github was activated.
    -   Back in Gitpod I installed Gunicorn, a package required to connect to Heroku. I also created a Procfile, which tells Heroku what kind of app it's getting. This is where Gunicorn us used.
    -   After updating requirement.txt, I pushed again.
    -   I tried to open the App, but got an error, because Heroku wasn’t allowed as host yet. Therefore I included the app in ALLOWED_HOSTS in the settings.py and pushed again.

- **Serving Static files from a Cloud Server**<br>
    -   I used Amazon Simple Storage Service (S3) to serve static files. After going through the settings of this service I downloaded a file with the access keys.
    -   In Gitpod I installed Django-storages and boto3, packages that allow Django to connect with S3, and added Django-storages to the INSTALLED_APPS, referring the access keys to the env.py file. After saving the access key into the env.py file, collectstatic was run.\
    -   To make sure that the static files wouldn’t be overwritten in S3, I created a custom_storages.py file and updated the settings.py file accordingly.
    -   Finally, I updated .gitignore with static/ and media/. However, I waited with this until I checked my CSS for the last time.
    -   In the Heroku Config Vars I put DISABLE_COLLECTSTATIC : 1. This means that Heroku will not try and upload the static files.

- **To add this repository to your local workspace:**
    -   Go into your local workspace and open up a new terminal (git bash).
    -   You have to be inside of the directory that you want to add the cloning to.
    -   Type git clone, paste the following URL ([https://github.com/RikDuijm/trail-running/](https://github.com/RikDuijm/trail-running/)) and press enter. The process of cloning will now be completed.

## <a name="credits"></a>Credits

### <a name="content"></a>Content
- **Written content**
All written content on this website was made by me. The description of the products is a brief summary of the manufacturer's product information.

- **images**
Images are taken by me or friends, or from [Unplash](https://unsplash.com/) and [Pixabay](https://pixabay.com/), 2 websites that offer royalty free stock pictures.\
The images of the products I got from the fabricants promotional material. 

- **Logo**
I made the Logo with the free [Looka Logo Maker](https://looka.com/)

- **Icons**
The social media icons are from Font Awesome.

### <a name="help-with-code"></a>Help with code
- I wrote all the code myself, with inspiration from the users of StackOverflow.com. Questions and answers on that site pointed me in the right direction several times. The Code Institute tutor-team also helped me greatly.

- The code to build the contact form was based on: https://wsvincent.com/django-contact-form/.

- Yoni Lavi  helped me greatly with the code to select different product sizes.


## <a name="acknowledgements"></a>Acknowledgements
Thanks to my mentor Spencer Barriball and fellow student Peter Lenting for discussing ideas and providing help on several occasions.

## <a name="disclaimer"></a>Disclaimer
The content of this website is for educational purposes only.